import glob, re
import json


class File:
    # ファイル一覧を取得する
    @classmethod
    def get_file_names(cls, path):
        # 末尾の修正
        if path[-1] == "/":
            path = path[:-1]
        return sorted(glob.glob("%s/*" % (path)))


files = File.get_file_names("../../Desktop/脆弱性調査/証明書/")

for i, file in enumerate(files):
    s, t = re.search(r"IPA#\d*", file).span()
    files[i] = file[s:t]

with open("./components/data/vulnList.json", "w") as f:
    json.dump({"list": files, "num": len(files)}, f, indent=2)
